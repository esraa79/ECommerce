<section >
    <div class="text-center fw-bolder fs-2 my-5 pt-5 ">All Products</div>
    <div *ngIf="productList.length>0 ;else loading" class="container">
       
      <div>
        <input type="text" placeholder="search..." class="w-50 m-auto form-control my-3 " [(ngModel)]="searchKey"/>
      </div>
                
         
           
            
   
       
        <div class="row gy-4">
            <div *ngFor="let product of productList| search:searchKey" class="col-lg-3 col-md-4 col-sm-6">
               
              <div class="product overflow-hidden p-3 border shadow rounded  h-100 position-relative " >
             
                    <div [routerLink]="['/productsDetails',product._id]" >
                        <img [src]="product.imageCover" class="w-100 h-50 mb-2"  [alt]="product.title "/>
                        <p class="text-main">{{product.title|productTitle:3}}</p>
                    <p class="text-main badge bg-body-secondary  ">{{product.category.name}}</p>
                    
                 
                    <div class="d-flex justify-content-between ">
                        <p class="text-main">{{product.price | currency:'eÂ£ '}} </p>
                        <p class="text-main">{{product.ratingsAverage}}
                        <i class="fa-solid fa-star rating-color"></i></p>
                       
                    </div>
                   
                    </div>
                    
                    <div>
                     
                    </div>
                    <div class="d-flex justify-content-between  align-items-center ">
                       <!-- add -->
                <i *ngIf="!wishList.includes(product._id)"
                class="fa-regular fa-heart   " 
                (click)="addtoWish(product._id) ">
               </i>
               <!-- remove -->
                 <i   *ngIf="wishList?.includes(product._id)"
                  class="fa-solid text-danger  fa-heart " 
                  (click)="deleteWish(product._id) ">
                 </i>
                  <button class="btn bg-main w-75 text-light" (click)="addtoCart(product._id)">
                    <span> <i class="fas fa-cart-shopping "></i></span>
                    add to cart</button>
                    </div>
    
    
                </div>
            </div>
        </div>
    </div>
    <ng-template #loading>
    <div class="vh-100 d-flex justify-content-center align-items-center ">
       <i class="fa fa-spinner fa-spin text-main fa-5x" ></i>
    </div>
    </ng-template>
</section>

